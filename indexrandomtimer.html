<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Tegne en streg</title>
</head>
<body>
<canvas width="600" height="300"></canvas>
<script>
  let cx = document.querySelector("canvas").getContext("2d");

  red = 0;
  green = 0;
  blue = 0;

  function setColors() {
    let ran = Math.random();
    red = Math.round(ran*255);
    ran = Math.random();
    green = Math.round(ran*255);
    ran = Math.random();
    blue = Math.round(ran*255);
    //console.log("color =" + `rgb(${red},${green},${blue}`);
  }

  function branch(length, angle, scale) {
    setColors();
    cx.fillStyle = `rgb(${red},${green},${blue}`;
    cx.fillRect(0, 0, 2, length);
    if (length<8) return;
    cx.save();
    cx.translate(0, length);
    cx.rotate(-angle);
    branch(length*scale, angle, scale);
    cx.rotate(2 * angle);
    branch(length*scale, angle, scale);
    cx.restore();
  }
  cx.translate(300, 0);
  //cx.fillStyle = "rgb(227,210,51)";
  cx.fillStyle = `rgb(${red},${green},${blue}`;
  //branch(60, 0.5, 0.8);

  console.log("nr1");
  setTimeout(branch(60, 0.5, 0.8), 1000);

  console.log("nr2");
  setTimeout(branch(60, 0.5, 0.8), 2000);

  console.log("nr3");
  setTimeout(branch(60, 0.5, 0.8), 4000);

  console.log("nr4");
  setTimeout(branch(60, 0.5, 0.8), 5000);
  console.log("nr5");

  //virker ikke.. lÃ¸ber lige igennem
</script>

</body>
</html>
